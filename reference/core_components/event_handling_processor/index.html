
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Event Processing">
      
      
      
        <link rel="canonical" href="https://docs.opencqrs.com/reference/core_components/event_handling_processor/">
      
      
        <link rel="prev" href="../command_router/">
      
      
        <link rel="next" href="../../extension_points/">
      
      
      <link rel="icon" href="../../../images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.4">
    
    
      
        <title>Event Handling Processor - OpenCQRS</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="Event Handling Processor - OpenCQRS" >
      
        <meta  property="og:description"  content="Event Processing" >
      
        <meta  property="og:image"  content="https://docs.opencqrs.com/assets/images/social/reference/core_components/event_handling_processor/index.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://docs.opencqrs.com/reference/core_components/event_handling_processor/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="Event Handling Processor - OpenCQRS" >
      
        <meta  name="twitter:description"  content="Event Processing" >
      
        <meta  name="twitter:image"  content="https://docs.opencqrs.com/assets/images/social/reference/core_components/event_handling_processor/index.png" >
      
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#event-processing-loop" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://www.opencqrs.com" title="OpenCQRS" class="md-header__button md-logo" aria-label="OpenCQRS" data-md-component="logo">
      
  <img src="../../../images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OpenCQRS
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Event Handling Processor
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/open-cqrs/opencqrs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  Overview

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../tutorials/" class="md-tabs__link">
          
  
    
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../howto/" class="md-tabs__link">
          
  
    
  
  Guides

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
    
  
  Reference

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../concepts/" class="md-tabs__link">
          
  
    
  
  Concepts

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://www.opencqrs.com" title="OpenCQRS" class="md-nav__button md-logo" aria-label="OpenCQRS" data-md-component="logo">
      
  <img src="../../../images/logo.png" alt="logo">

    </a>
    OpenCQRS
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/open-cqrs/opencqrs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../tutorials/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/01_setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setting up the Environment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/02_command_handling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Handling Commands
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/03_domain_logic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developing the Domain
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/04_book_reminder/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Handling Events
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/05_catalog_projection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Building Read Models from Events
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/06_testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing the Domain
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../howto/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Guides
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/explicit_type_registration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Registering explicit Event Types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../howto/upcasting_events/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Upcasting Events
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modules
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../events/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Event Representations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../exceptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exception Handling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Core Components
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            Core Components
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../esdb_client/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ESDB Client
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../event_repository/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Event Repository
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../command_router/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Command Router
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Event Handling Processor
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Event Handling Processor
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#event-processing-loop" class="md-nav__link">
    <span class="md-ellipsis">
      Event Processing Loop
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#error-handling-and-retry" class="md-nav__link">
    <span class="md-ellipsis">
      Error Handling and Retry
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#manual-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Manual Configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spring-boot-auto-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Spring Boot Auto-Configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scalability" class="md-nav__link">
    <span class="md-ellipsis">
      Scalability
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fail-over-and-redundancy" class="md-nav__link">
    <span class="md-ellipsis">
      Fail-Over and Redundancy
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../extension_points/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Extension Points
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_6" id="__nav_4_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6">
            <span class="md-nav__icon md-icon"></span>
            Extension Points
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extension_points/command_handler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Defining Command Handlers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extension_points/state_rebuilding_handler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Defining State Rebuilding Handlers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extension_points/event_handler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Defining Event Handlers
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../test_support/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Test Support
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_7" id="__nav_4_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_7">
            <span class="md-nav__icon md-icon"></span>
            Test Support
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../test_support/command_handling_test_fixture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Command Handling Tests
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../concepts/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Concepts
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/events/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Events
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/event_sourcing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Event Sourcing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/upcasting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Event Upcasting
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#event-processing-loop" class="md-nav__link">
    <span class="md-ellipsis">
      Event Processing Loop
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#error-handling-and-retry" class="md-nav__link">
    <span class="md-ellipsis">
      Error Handling and Retry
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#manual-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Manual Configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spring-boot-auto-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Spring Boot Auto-Configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scalability" class="md-nav__link">
    <span class="md-ellipsis">
      Scalability
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fail-over-and-redundancy" class="md-nav__link">
    <span class="md-ellipsis">
      Fail-Over and Redundancy
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>Event Handling Processor</h1>

<p>The <code>framework</code> <a href="../../modules/">module</a> provides <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandlingProcessor.html" title="com.opencqrs.framework.eventhandler.EventHandlingProcessor" style="color: inherit;"><code>EventHandlingProcessor</code></a>
as the core component for <a href="../../extension_points/event_handler/">asynchronous event handling</a>. Once executed on a worker thread it 
is responsible for dispatching any existing or newly published events <em>in order</em> to suitable <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandler.html" title="com.opencqrs.framework.eventhandler.EventHandler" style="color: inherit;"><code>EventHandler</code></a>
instances for <a href="../../../concepts/event_sourcing/#projecting-a-read-model">read model projection</a>, as depicted exemplarily in the following diagram:</p>
<p><img alt="Event Dispatching" src="01_ehp_basic.svg" /></p>
<p>Multiple <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandlingProcessor.html" title="com.opencqrs.framework.eventhandler.EventHandlingProcessor" style="color: inherit;"><code>EventHandlingProcessor</code></a> instances are typically configured and spawned for different sets
of <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandler.html" title="com.opencqrs.framework.eventhandler.EventHandler" style="color: inherit;"><code>EventHandler</code></a> instances, belonging to the same processing group (typically one per read model). 
Each group then independently observes the event stream and processes
the events at its own speed. The <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandlingProcessor.html" title="com.opencqrs.framework.eventhandler.EventHandlingProcessor" style="color: inherit;"><code>EventHandlingProcessor</code></a> tracks the progress of the last event -
successfully processed by its processing group - by means of a configured <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/progress/ProgressTracker.html" title="com.opencqrs.framework.eventhandler.progress.ProgressTracker" style="color: inherit;"><code>ProgressTracker</code></a>.</p>
<div class="admonition tip">
<p class="admonition-title">Durable Progress</p>
<p>The <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/progress/ProgressTracker.html" title="com.opencqrs.framework.eventhandler.progress.ProgressTracker" style="color: inherit;"><code>ProgressTracker</code></a> is responsible for tracking the position within the
event stream that is handled by the <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandlingProcessor.html" title="com.opencqrs.framework.eventhandler.EventHandlingProcessor" style="color: inherit;"><code>EventHandlingProcessor</code></a>. Accordingly, it controls
the event position within the event stream, at which processing continues in case of errors. In order to avoid excessive reprocessing of previously
processed events, implementations storing their progress in persistent storage, such as a database, should be used.
<a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/progress/JdbcProgressTracker.html" title="com.opencqrs.framework.eventhandler.progress.JdbcProgressTracker" style="color: inherit;"><code>JdbcProgressTracker</code></a> can be used for <abbr title="Structured Query Language">SQL</abbr> databases in Spring applications.</p>
</div>
<p>The following diagram depicts two independent processing groups at different positions within the event stream:</p>
<p><img alt="Multiple Event Processing Groups" src="02_ehp_groups.svg" /></p>
<h2 id="event-processing-loop">Event Processing Loop</h2>
<p>Event processing (once started) comprises the following steps:</p>
<ol>
<li>determining the latest position (progress) within the global event stream up to which events have been processed previously for this group and partition, if available</li>
<li>starting to consume and observe any newer event starting from that position</li>
<li><a href="../../../concepts/upcasting/">upcasting</a> and deserializing the event, if necessary</li>
<li>determining if an event needs to be handled by this partition, otherwise skipping it because it is relevant for another partition</li>
<li>determining and calling suitable <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandler.html" title="com.opencqrs.framework.eventhandler.EventHandler" style="color: inherit;"><code>EventHandler</code></a> instances, otherwise skipping the event because it isn't relevant for the processing group</li>
<li>retrying event handlers failing with non-persistent errors</li>
<li>updating the progress within the global event stream, if all <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandler.html" title="com.opencqrs.framework.eventhandler.EventHandler" style="color: inherit;"><code>EventHandler</code></a> instances succeeded or the event was skipped</li>
<li>continuing with next available event, until the event processing loop is interrupted or terminated</li>
</ol>
<div class="admonition warning">
<p class="admonition-title">Event Handler Idempotency</p>
<p>Event processing logic contained within <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandler.html" title="com.opencqrs.framework.eventhandler.EventHandler" style="color: inherit;"><code>EventHandler</code></a> instances is assumed to be idempotent, in
order to be <em>repeatable</em> for a specific event, in case of errors. Since the event processing loop may terminate unexpectedly, before being able to update its
progress, resources and read models may already have been updated by some of the handlers. This is especially true for event handlers
dealing with non-transactional resources, for instance handlers sending emails. The <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandlingProcessor.html" title="com.opencqrs.framework.eventhandler.EventHandlingProcessor" style="color: inherit;"><code>EventHandlingProcessor</code></a>
effectively guarantees <a href="https://www.cloudcomputingpatterns.org/at_least_once_delivery/">at-least-once delivery</a> with respect to event handling.</p>
<p>Idempotency can be achieved for <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandler.html" title="com.opencqrs.framework.eventhandler.EventHandler" style="color: inherit;"><code>EventHandler</code></a> instances participating in the same
transaction as the configured <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/progress/ProgressTracker.html" title="com.opencqrs.framework.eventhandler.progress.ProgressTracker" style="color: inherit;"><code>ProgressTracker</code></a> instance.
<a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/progress/JdbcProgressTracker.html" title="com.opencqrs.framework.eventhandler.progress.JdbcProgressTracker" style="color: inherit;"><code>JdbcProgressTracker</code></a> for instance can be configured to process its associated
handlers transactionally by means of the underlying JDBC database connection, used to update the progress. If all participating handlers solely
rely on the very same database resource, they may choose to participate within that transaction. This effectively makes the processing loop idempotent, since
all side-effects are covered by the same transaction, guaranteing atomicity.</p>
</div>
<h2 id="error-handling-and-retry">Error Handling and Retry</h2>
<p>Errors occurring within the event processing loop may either terminate the event processing loop or are subject to retry, according to the following
criteria:</p>
<table>
<thead>
<tr>
<th>Origin</th>
<th>Exception</th>
<th>Example</th>
<th>Behavior</th>
</tr>
</thead>
<tbody>
<tr>
<td><a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandler.html" title="com.opencqrs.framework.eventhandler.EventHandler" style="color: inherit;"><code>EventHandler</code></a></td>
<td><a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/CqrsFrameworkException.NonTransientException.html" title="com.opencqrs.framework.CqrsFrameworkException.NonTransientException" style="color: inherit;"><code>NonTransientException</code></a> or any sub-class</td>
<td>event handler projection logic calling framework components throwing <a href="../../exceptions/">non-recoverable errors</a></td>
<td>processing loop terminated</td>
</tr>
<tr>
<td><a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandler.html" title="com.opencqrs.framework.eventhandler.EventHandler" style="color: inherit;"><code>EventHandler</code></a></td>
<td>any other <code>java.lang.Throwable</code> or sub-class</td>
<td>any other application-specific exception thrown</td>
<td>event subject to retry</td>
</tr>
<tr>
<td>framework component(s)</td>
<td><a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/CqrsFrameworkException.TransientException.html" title="com.opencqrs.framework.CqrsFrameworkException.TransientException" style="color: inherit;"><code>TransientException</code></a> or any sub-class</td>
<td><a href="../../exceptions/">recoverable errors</a> such as connection errors while observing events</td>
<td>event subject to retry</td>
</tr>
<tr>
<td>any</td>
<td><code>java.lang.InterruptedException</code> or <code>java.util.RejectedExecutionException</code> or any sub-class</td>
<td>thread interruption while shutting down the <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandlingProcessor.html" title="com.opencqrs.framework.eventhandler.EventHandlingProcessor" style="color: inherit;"><code>EventHandlingProcessor</code></a></td>
<td>processing loop terminated</td>
</tr>
<tr>
<td>framework component(s)</td>
<td>any other <code>java.lang.Throwable</code> or sub-class</td>
<td>unexpected errors, for instance failure to update the progress</td>
<td>processing loop terminated</td>
</tr>
</tbody>
</table>
<p>In case of a recoverable error, events may be <em>retried</em>. In that case a configurable <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/BackOff.html" title="com.opencqrs.framework.eventhandler.BackOff" style="color: inherit;"><code>BackOff</code></a> instance determines
the back-off delay, before the event is actually reprocessed. This delay may change (i.e. increase exponentially) for every retry attempt for the same event and
may as well signal the event to be skipped, if <code>-1</code> is returned. Skipped events will no longer be retried and the event processing loop continues with the next
event, after updating its progress.</p>
<h2 id="configuration">Configuration</h2>
<p>An instance of <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandlingProcessor.html" title="com.opencqrs.framework.eventhandler.EventHandlingProcessor" style="color: inherit;"><code>EventHandlingProcessor</code></a> can be obtained,
either by manually instantiating and starting it (per group and partition) or using Spring Boot autoconfiguration.</p>
<h3 id="manual-configuration">Manual Configuration</h3>
<p>An instance of <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandlingProcessor.html" title="com.opencqrs.framework.eventhandler.EventHandlingProcessor" style="color: inherit;"><code>EventHandlingProcessor</code></a> can be created providing the necessary
configuration properties:</p>
<ul>
<li>the active partition number to be assigned to (starting from zero)</li>
<li>the subject to observe for existing or new events published</li>
<li>a flag indicating if the subject shall be observed <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/esdb/client/Option.Recursive.html" title="com.opencqrs.esdb.client.Option.Recursive" style="color: inherit;"><code>Recursive</code></a> or not</li>
<li>an <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/persistence/EventReader.html" title="com.opencqrs.framework.persistence.EventReader" style="color: inherit;"><code>EventReader</code></a> instance for observing <a href="../../events/">events</a></li>
<li>a <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/progress/ProgressTracker.html" title="com.opencqrs.framework.eventhandler.progress.ProgressTracker" style="color: inherit;"><code>ProgressTracker</code></a> instance tracking the processing progress for the processing group and specified partition</li>
<li>an <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/partitioning/EventSequenceResolver.html" title="com.opencqrs.framework.eventhandler.partitioning.EventSequenceResolver" style="color: inherit;"><code>EventSequenceResolver</code></a> instance to derive a sequence id from an event</li>
<li>a <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/partitioning/PartitionKeyResolver.html" title="com.opencqrs.framework.eventhandler.partitioning.PartitionKeyResolver" style="color: inherit;"><code>PartitionKeyResolver</code></a> instance derive the assigned partition number from an event's sequence id</li>
<li>a list of <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandlerDefinition.html" title="com.opencqrs.framework.eventhandler.EventHandlerDefinition" style="color: inherit;"><code>EventHandlerDefinition</code></a> instances belonging the same processing group</li>
<li>a <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/BackOff.html" title="com.opencqrs.framework.eventhandler.BackOff" style="color: inherit;"><code>BackOff</code></a> instance used to determine the back-off delay before retrying failed event handlers</li>
</ul>
<p>The following example shows, how to instantiate and start an <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandlingProcessor.html" title="com.opencqrs.framework.eventhandler.EventHandlingProcessor" style="color: inherit;"><code>EventHandlingProcessor</code></a> using
a provided <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/persistence/EventReader.html" title="com.opencqrs.framework.persistence.EventReader" style="color: inherit;"><code>EventReader</code></a> and a list of <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandlerDefinition.html" title="com.opencqrs.framework.eventhandler.EventHandlerDefinition" style="color: inherit;"><code>EventHandlerDefinition</code></a>
(containing the <a href="../../extension_points/event_handler/">event handling logic</a>). The example applies the following additional configuration settings:</p>
<ul>
<li>a single partition (<code>0</code>) is used to handle all events (<a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/partitioning/DefaultPartitionKeyResolver.html" title="com.opencqrs.framework.eventhandler.partitioning.DefaultPartitionKeyResolver" style="color: inherit;"><code>DefaultPartitionKeyResolver</code></a> with <code>1</code> active partition)</li>
<li>events sharing the same subject are processed sequentially (<a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/partitioning/PerSubjectEventSequenceResolver.html" title="com.opencqrs.framework.eventhandler.partitioning.PerSubjectEventSequenceResolver" style="color: inherit;"><code>PerSubjectEventSequenceResolver</code></a>), which is irrelevant as long as only one active partition is used</li>
<li>events are observed from the root subject <code>/</code> recursively</li>
<li>progress is tracked in-memory, i.e. all events will be reprocessed upon restart of the <abbr title="Java Virtual Machine">JVM</abbr> (<a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/progress/InMemoryProgressTracker.html" title="com.opencqrs.framework.eventhandler.progress.InMemoryProgressTracker" style="color: inherit;"><code>InMemoryProgressTracker</code></a>)</li>
<li>events will be retried infinitely with a static back-off interval of 1000 ms</li>
</ul>
<div class="language-java highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.opencqrs.framework.eventhandler.partitioning.DefaultPartitionKeyResolver</span><span class="p">;</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.opencqrs.framework.eventhandler.partitioning.PerSubjectEventSequenceResolver</span><span class="p">;</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.opencqrs.framework.eventhandler.progress.InMemoryProgressTracker</span><span class="p">;</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">com.opencqrs.framework.persistence.EventReader</span><span class="p">;</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">EventHandlingProcessorConfiguration</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">EventHandlingProcessor</span><span class="w"> </span><span class="nf">eventHandlingProcessor</span><span class="p">(</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="w">            </span><span class="n">EventReader</span><span class="w"> </span><span class="n">eventReader</span><span class="p">,</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="w">            </span><span class="n">List</span><span class="o">&lt;</span><span class="n">EventHandlerDefinition</span><span class="o">&gt;</span><span class="w"> </span><span class="n">eventHandlerDefinitions</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">EventHandlingProcessor</span><span class="p">(</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="w">                </span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="w">                </span><span class="s">&quot;/&quot;</span><span class="p">,</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="w">                </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="w">                </span><span class="n">eventReader</span><span class="p">,</span>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="w">                </span><span class="k">new</span><span class="w"> </span><span class="n">InMemoryProgressTracker</span><span class="p">(),</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a><span class="w">                </span><span class="k">new</span><span class="w"> </span><span class="n">PerSubjectEventSequenceResolver</span><span class="p">(),</span>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a><span class="w">                </span><span class="k">new</span><span class="w"> </span><span class="n">DefaultPartitionKeyResolver</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a><span class="w">                </span><span class="n">eventHandlerDefinitions</span><span class="p">,</span>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a><span class="w">                </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="mi">1000</span>
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a><span class="w">        </span><span class="p">);</span>
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a><span class="p">}</span>
</span></code></pre></div>
<p>The <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandlingProcessor.html" title="com.opencqrs.framework.eventhandler.EventHandlingProcessor" style="color: inherit;"><code>EventHandlingProcessor</code></a> can be verified by starting it asynchronously as follows:</p>
<div class="language-java highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">){</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="n">eventHandlingProcessor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">eventHandlingProcessor</span><span class="p">(...);</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">Thread</span><span class="p">(</span><span class="n">eventHandlingProcessor</span><span class="p">).</span><span class="na">start</span><span class="p">();</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="p">}</span>
</span></code></pre></div>
<h3 id="spring-boot-auto-configuration">Spring Boot Auto-Configuration</h3>
<p>For Spring Boot applications using the <code>framework-spring-boot-starter</code> <a href="../../modules/">module</a>
<a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandlingProcessorAutoConfiguration.html" title="com.opencqrs.framework.eventhandler.EventHandlingProcessorAutoConfiguration" style="color: inherit;"><code>EventHandlingProcessorAutoConfiguration</code></a> provides
fully configured <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandlingProcessor.html" title="com.opencqrs.framework.eventhandler.EventHandlingProcessor" style="color: inherit;"><code>EventHandlingProcessor</code></a> Spring beans per
processing group for all <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandlerDefinition.html" title="com.opencqrs.framework.eventhandler.EventHandlerDefinition" style="color: inherit;"><code>EventHandlerDefinition</code></a> beans
defined within the same Spring application context.</p>
<p>The processor beans can be fully configured using <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandlingProperties.html" title="com.opencqrs.framework.eventhandler.EventHandlingProperties" style="color: inherit;"><code>EventHandlingProperties</code></a>.
The configuration provides suitable defaults, which may be overridden for all processing groups and/or per individual processing group,
e.g. as follows:</p>
<div class="language-properties highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1"># settings applying to all processing groups</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="na">opencqrs.event-handling.standard.retry.policy</span><span class="o">=</span><span class="s">exponential_backoff</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="na">opencqrs.event-handling.standard.retry.max-attempts</span><span class="o">=</span><span class="s">5</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="c1"># settings applying to processing group &#39;books&#39; only</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="na">opencqrs.event-handling.groups.books.fetch.subject</span><span class="o">=</span><span class="s">/books</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="na">opencqrs.event-handling.groups.books.life-cycle.partitions</span><span class="o">=</span><span class="s">2</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="c1"># settings applying to processing group &#39;backup&#39; only</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="na">opencqrs.event-handling.groups.backup.life-cycle.auto-start</span><span class="o">=</span><span class="s">false</span>
</span></code></pre></div>
<p>With that configuration in place autoconfigured <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandlingProcessor.html" title="com.opencqrs.framework.eventhandler.EventHandlingProcessor" style="color: inherit;"><code>EventHandlingProcessor</code></a> instances
will be configured for all processing groups (based on the <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandlerDefinition.html" title="com.opencqrs.framework.eventhandler.EventHandlerDefinition" style="color: inherit;"><code>EventHandlerDefinition</code></a> beans within the Spring context) as follows:</p>
<ul>
<li>all failed events will be retried up to 5 times with exponentially increasing delays</li>
<li>all processors, except those for the 'backup' processing group, will be started automatically</li>
<li>all processors, except those for the 'books' processing group, will observe events from <code>/</code> recursively</li>
<li>for the 'books' processing group:<ul>
<li>events will be observed from <code>/books</code> only</li>
<li>two processor instances will be spawned each of them processing one of the two configured partitions independently</li>
</ul>
</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Property Inheritance</p>
<p><a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandlingProperties.html" title="com.opencqrs.framework.eventhandler.EventHandlingProperties" style="color: inherit;"><code>EventHandlingProperties</code></a> provide configuration on different levels in the
following order of precedence:</p>
<ol>
<li>properties defined per processing group, i.e. using the prefix <code>opencqrs.event-handling.groups.&lt;processing-group&gt;</code></li>
<li>properties defined for all processing groups, i.e. using the prefix <code>opencqrs.event-handling.standard</code></li>
<li>built-in default values, which may vary dependending on the beans available within the Spring application context</li>
</ol>
</div>
<p>The following table lists all <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandlingProperties.html" title="com.opencqrs.framework.eventhandler.EventHandlingProperties" style="color: inherit;"><code>EventHandlingProperties</code></a> that can be
configured per processing group or for all groups and their default values (prefix ommitted for brevity):</p>
<table>
<thead>
<tr>
<th>property</th>
<th>description</th>
<th>default value(s)</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>fetch.subject</code></td>
<td>the root subject to fetch/observe</td>
<td><code>/</code></td>
</tr>
<tr>
<td><code>fetch.recursive</code></td>
<td>whether events are fetched recursively with respect to the root subject</td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>life-cycle.auto-start</code></td>
<td>whether the processor is started automatically</td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>life-cycle.controller</code></td>
<td>whether the processor is activated (and shut down) by the Spring application context or using distributed leader election</td>
<td><code>leader_election</code> if a suitable Spring Integration <code>org.springframework.integration.support.locks.LockRegistry</code> bean has been defined, <code>application_context</code> otherwise</td>
</tr>
<tr>
<td><code>life-cycle.controller-registration</code></td>
<td>a custom <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandlingProcessorLifecycleRegistration.html" title="com.opencqrs.framework.eventhandler.EventHandlingProcessorLifecycleRegistration" style="color: inherit;"><code>EventHandlingProcessorLifecycleRegistration</code></a> bean reference overriding <code>life-cycle.controller</code></td>
<td>n/a</td>
</tr>
<tr>
<td><code>life-cycle.lock-registry</code></td>
<td>a custom Spring Integration <code>org.springframework.integration.support.locks.LockRegistry</code> bean reference to use if <code>life-cycle.controller</code> is <code>leader_election</code></td>
<td>n/a</td>
</tr>
<tr>
<td><code>life-cycle.partitions</code></td>
<td>the number of parallel partitions used to process the event stream</td>
<td>1</td>
</tr>
<tr>
<td><code>progress.tracking</code></td>
<td>the progress tracker implementation to be used</td>
<td><code>jdbc</code> for <em>persistent (durable) progress tracking</em> if a unique <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/progress/JdbcProgressTracker.html" title="com.opencqrs.framework.eventhandler.progress.JdbcProgressTracker" style="color: inherit;"><code>JdbcProgressTracker</code></a> bean is available within the application context, <code>in_memory</code> for transient progress tracking otherwise</td>
</tr>
<tr>
<td><code>progress.tracker-ref</code></td>
<td>a custom <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/progress/ProgressTracker.html" title="com.opencqrs.framework.eventhandler.progress.ProgressTracker" style="color: inherit;"><code>ProgressTracker</code></a> bean reference overriding <code>progress.tracking</code></td>
<td></td>
</tr>
<tr>
<td><code>sequence.resolution</code></td>
<td>specifies how the <em>event sequence identifier</em> is resolved in order to determine whether a partition is responsible for processing an event</td>
<td><code>per_second_level_subject</code> referering to event subject up to the second level, e.g. <code>/books/4711</code>, ignoring any deeper subject hierarchies</td>
</tr>
<tr>
<td><code>sequence.resolver-ref</code></td>
<td>a custom <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/partitioning/EventSequenceResolver.html" title="com.opencqrs.framework.eventhandler.partitioning.EventSequenceResolver" style="color: inherit;"><code>EventSequenceResolver</code></a> bean reference overriding <code>sequence.resolution</code></td>
<td>n/a</td>
</tr>
<tr>
<td><code>retry.policy</code></td>
<td>specifies how failed events are retried</td>
<td><code>exponential_backoff</code></td>
</tr>
<tr>
<td><code>retry.initial-interval</code></td>
<td>the initial delay to wait before retrying a failed event unless <code>retry.policy</code> is <code>none</code></td>
<td><code>2s</code></td>
</tr>
<tr>
<td><code>retry.max-interval</code></td>
<td>the maximum delay to wait before retrying a failed event (only relevant if <code>retry.policy</code> is <code>exponential_backoff</code>)</td>
<td><code>30s</code></td>
</tr>
<tr>
<td><code>retry.max-elapsed-time</code></td>
<td>the maximum cumulated day for all retries before giving up on retrying a failed event (only relevant if <code>retry.policy</code> is <code>exponential_backoff</code>)</td>
<td>∞</td>
</tr>
<tr>
<td><code>retry.multiplier</code></td>
<td>the multiplier applied to the retry interval upon repeated attempts (only relevant if <code>retry.policy</code> is <code>exponential_backoff</code>)</td>
<td><code>1.5</code></td>
</tr>
<tr>
<td><code>retry.max-attempts</code></td>
<td>the maximum number of retry attempts before giving up on retrying a failed event unless <code>retry.policy</code> is <code>none</code></td>
<td>∞</td>
</tr>
</tbody>
</table>
<h2 id="scalability">Scalability</h2>
<p><a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandlingProcessor.html" title="com.opencqrs.framework.eventhandler.EventHandlingProcessor" style="color: inherit;"><code>EventHandlingProcessor</code></a> instances may be scaled individually per
processing group using multiple partitions. This enables multiple <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandlingProcessor.html" title="com.opencqrs.framework.eventhandler.EventHandlingProcessor" style="color: inherit;"><code>EventHandlingProcessor</code></a> instances -
one for each partition - to process the same event stream in parallel. For this to work out, each of them needs
to know both its own partition number and the number of total partitions. With the help of the configured <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/partitioning/EventSequenceResolver.html" title="com.opencqrs.framework.eventhandler.partitioning.EventSequenceResolver" style="color: inherit;"><code>EventSequenceResolver</code></a>
it determines each event's <em>sequence id</em>, before it gets processed within the event processing loop. This id is mapped onto a target
partition number using a deterministic algorithm. Hence, each processor instance may decide, whether it is responsible for processing a specific
event, autonomously, skipping any events from other partitions. That is, while all processors observe the same event stream, they only handle those events
relevant for their own partition.</p>
<div class="admonition danger">
<p class="admonition-title">Configuring multiple partitions</p>
<p>Configuring multiple partitions per processing group implies, that progress is tracked per partition, as well. Accordingly,
tracked event positions will differ, as processors proceed at different speeds. It is therefore not advised to increase or
decrease the number of partitions for processing groups using durable (persistent) progress tracking, as this would require
merging or splitting the partitions in a controlled manner. OpenCQRS currently does not support dynamic
up- or downscaling of partitions.</p>
</div>
<h2 id="fail-over-and-redundancy">Fail-Over and Redundancy</h2>
<p>While <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandlingProcessor.html" title="com.opencqrs.framework.eventhandler.EventHandlingProcessor" style="color: inherit;"><code>EventHandlingProcessor</code></a> instances can be scaled using partitioning,
it must be assured that exactly one instance is running per processing group and partition. More instances processing the same partition will
result in duplicate event processing, which may cause undesirable results, if the event handlers aren't fully idempotent, for instance sending
duplicate emails to customers. An unclaimed partition currently not processed by any processor instance, on the other hand, may result in events
not being processed at all.</p>
<div class="admonition tip">
<p class="admonition-title">Redundant JVMs</p>
<p>To assure, there are always sufficient <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandlingProcessor.html" title="com.opencqrs.framework.eventhandler.EventHandlingProcessor" style="color: inherit;"><code>EventHandlingProcessor</code></a> instances
available for all partitions of all processing groups, multiple JVMs should be used to compensate for errors. Typically, this is
achieved by cloud infrastructure, such as Kubernetes.</p>
</div>
<p>To ensure the number of active <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandlingProcessor.html" title="com.opencqrs.framework.eventhandler.EventHandlingProcessor" style="color: inherit;"><code>EventHandlingProcessor</code></a> instances matches the number
of processing groups and their partitions, their life-cycle needs to controlled even across multiple JVMs. OpenCQRS provides
out of the box life-cycle management based on <a href="https://docs.spring.io/spring-integration/reference/leadership-event-handling.html">Spring Integration Leadership Event Handling</a>,
which is based on the concept of <em>distributed locks</em>, for instance using JDBC and a dedicated <abbr title="Structured Query Language">SQL</abbr> lock table.</p>
<p>The following diagram depicts multiple <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/EventHandlingProcessor.html" title="com.opencqrs.framework.eventhandler.EventHandlingProcessor" style="color: inherit;"><code>EventHandlingProcessor</code></a> instances running on
different JVMs, processing a <code>books</code> processing group with two partitions.</p>
<p><img alt="Scaling &amp; Failover" src="03_ehp_partitioning_failover.svg" /></p>
<ul>
<li>Each of the JVMs provides sufficient instances to process the maximum number of configured partitions.</li>
<li>However, each of those instances needs to claim a distributed lock per partition, in order to become the leader responsible for processing.</li>
<li>Currently, the locked/active partitions are evenly distributed across the two JVMs.</li>
<li>Each partition tracks its own progress within the event stream.</li>
<li>The inactive instances currently waiting for a lock to become available are spare instances, which will be activated, if a leader stops or fails unexpectedly.</li>
<li>Events are filtered according to their sequence id, in order to determine, if they are relevant for the current partition, and skipped otherwise.</li>
</ul>
<p>In case any of the two JVMs is shut down or fails unexpectedly, the spare instances will claim the expired locks and continue processing, starting
at the latest event position stored by the configured <a target="_blank" href="https://docs.opencqrs.com/javadoc/com/opencqrs/framework/eventhandler/progress/ProgressTracker.html" title="com.opencqrs.framework.eventhandler.progress.ProgressTracker" style="color: inherit;"><code>ProgressTracker</code></a>.</p>
<div class="admonition note">
<p class="admonition-title">Active Partition Distribution</p>
<p>OpenCQRS currently won't limit the number of maximum concurrent active partitions per <abbr title="Java Virtual Machine">JVM</abbr>. Accordingly, their
distribution cannot be controlled either. Most likely, the first <abbr title="Java Virtual Machine">JVM</abbr> starting within a clustered environment will claim all locks
and hence process all partitions, while any further <abbr title="Java Virtual Machine">JVM</abbr> will provide spare instances only.</p>
</div>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../command_router/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Command Router">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Command Router
              </div>
            </div>
          </a>
        
        
          
          <a href="../../extension_points/" class="md-footer__link md-footer__link--next" aria-label="Next: Extension Points">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Extension Points
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="mailto:opencqrs@digitalfrontiers.de" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l217.6 163.2c11.4 8.5 27 8.5 38.4 0l217.6-163.2c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48zM0 176v208c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V176L294.4 339.2a63.9 63.9 0 0 1-76.8 0z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://blog.digitalfrontiers.de" target="_blank" rel="noopener" title="blog.digitalfrontiers.de" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M192 32c0 17.7 14.3 32 32 32 123.7 0 224 100.3 224 224 0 17.7 14.3 32 32 32s32-14.3 32-32C512 128.9 383.1 0 224 0c-17.7 0-32 14.3-32 32m0 96c0 17.7 14.3 32 32 32 70.7 0 128 57.3 128 128 0 17.7 14.3 32 32 32s32-14.3 32-32c0-106-86-192-192-192-17.7 0-32 14.3-32 32m-96 16c0-26.5-21.5-48-48-48S0 117.5 0 144v224c0 79.5 64.5 144 144 144s144-64.5 144-144-64.5-144-144-144h-16v96h16c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/company/digital-frontiers-gmbh-co-kg" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.digitalfrontiers.de" target="_blank" rel="noopener" title="www.digitalfrontiers.de" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M352 256c0 22.2-1.2 43.6-3.3 64H163.4c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64h185.3c2.2 20.4 3.3 41.8 3.3 64m28.8-64h123.1c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64m112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6 78.3 20.7 142 77.5 171.9 151.6zm-149.1 0H167.7c6.1-36.4 15.5-68.6 27-94.7 10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7 0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5 11.6 26 20.9 58.2 27 94.7m-209 0H18.6c30-74.1 93.6-130.9 172-151.6-25.5 34.2-45.3 87.7-55.3 151.6M8.1 192h123.1c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64H8.1C2.8 299.5 0 278.1 0 256s2.8-43.5 8.1-64m186.6 254.6c-11.6-26-20.9-58.2-27-94.6h176.6c-6.1 36.4-15.5 68.6-27 94.6-10.5 23.6-22.2 40.7-33.5 51.5-11.2 10.7-20.5 13.9-27.8 13.9s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6-78.4-20.7-142-77.5-172-151.6zm358.1 0c-30 74.1-93.6 130.9-171.9 151.6 25.5-34.2 45.2-87.7 55.3-151.6h116.7z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.footer", "navigation.tabs", "navigation.indexes", "content.code.copy", "content.code.annotate"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.f1b6f286.min.js"></script>
      
        <script src="../../../js/open_external_in_new_tab.js"></script>
      
    
  </body>
</html>